<?xml version="1.0" encoding="EUC-KR" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="file">

	<resultMap class="jcf.edu.file.model.ContentFileDTO" id="contentFileMap">
		<result property="contentsId" column="CONTENTS_ID" />
		<result property="fileUuid" column="FILE_UUID" />
	</resultMap>

	<statement id="selectContentFile" resultMap="contentFileMap">
		select * from CONTENTS_FILE2
		<dynamic prepend="where">
			<isNotEmpty prepend=" and " property="id">
				CONTENTS_ID=#id#
			</isNotEmpty>
			<isNotEmpty prepend=" and " property="fileUuid">
				FILE_UUID=#fileUuid#
			</isNotEmpty>
		</dynamic>
	</statement>

	<statement id="insertContentFile" parameterClass="jcf.edu.file.model.ContentFileDTO">
		insert into
		CONTENTS_FILE2 (contents_id ,FILE_UUID) values(#contentsId#,#fileUuid#)
	</statement>

	<statement id="deleteContentFile" parameterClass="String">
		delete from
		CONTENTS_FILE where CONTENTS_ID=#id#
	</statement>
	
</sqlMap>